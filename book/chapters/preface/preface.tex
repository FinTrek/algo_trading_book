% !TEX root = ../../book.tex

% Preface
\begin{center} {\Large\bfseries Preface} \end{center} \hspace*{\fill}
\addcontentsline{toc}{chapter}{Preface}

Algorithms have been around since the day trading has started. But they have gained importance with the advent of computers and the automation of trading. Efficiency in execution has taken center stage and with that, speed and instantaneous processing of asset related information have become important. In this book, we will focus on the methodology rooted in financial theory and demonstrate how relevant data---both in the high frequency and in the low frequency---can be meaningfully analyzed. The intention is to bring both the academics and the practitioners together. We strive to achieve what George Box (first author's teacher) once said: \par
        \begin{center}
        \begin{minipage}[t]{0.7\textwidth}
        	\raggedright
          	{\itshape``One important idea is that science is a means whereby learning is achieved, not by mere theoretical speculation on the one hand, nor by the undirected accumulation of practical facts on the other, but rather by a motivated iteration between theory and practice.''}
        \end{minipage} 
        \end{center}


We hope that we provide a framework for relevant inquiries on this topic. To quote Judea Pearl, \par
        \begin{center}
        \begin{minipage}[t]{0.7\textwidth}
        	\raggedright
          	{\itshape``You cannot answer a question that you cannot ask, and you cannot ask a question that you have no words for.''}
        \end{minipage} 
        \end{center}
The emphasis of this book, the readers will notice, is on data analysis with guidance from appropriate models. As C.R. Rao (first author's teacher) has aptly observed: \vspace{0.5\baselineskip}

\noindent All knowledge is, in final analysis, history. \par
\noindent All Sciences are, in the abstract, mathematics. \par
\noindent All judgements are, in the rationale, statistics. \twomedskip


This book gives an inside look into the current world of Electronic Trading and Quantitative Strategies. We address actual challenges by presenting intuitive and innovative ideas on how to approach them in the future. The subject is then augmented through a more formal treatment of the necessary quantitative methods with a targeted review of relevant academic literature. This dual approach is also reflective of the dynamics, typical of quants working on a trading floor where commercial needs, such as time to market, often supersede consideration of rigorous models in favor of intuitively simple approaches. 


Our unique approach in this book is to provide the reader with the hands-on tools. This book will be accompanied by a collection of practical Jupyter Notebooks where select methods are applied to real data. This will allow the reader to go beyond theory into the actual implementation, while familiarizing them with the libraries available. Wherever possible the charts and tables in the book can be generated directly from these notebooks and the data-sets provided bring further life to the treatment of the subject. We also add exercises to most of the chapters, so that the students can work through on their own. These exercises have been tested out by graduate students from Stanford and Singapore Management University. The notebooks as well as the data and the exercises are made  available on: \url{https://github.com/NehrenD/algo_trading_and_quant_strategies}. This site will be updated on a periodic basis. While reading and working through this book, the reader should be able to gain insight into how the field of Electronic Trading and Quantitative Strategies, one of the most active and exciting spaces in the world of finance, has evolved.


This book is divided into five parts. 

\begin{itemize}
\item Part~\ref{part:one} sets the stage. We narrate the history and evolution of Equity Trading and delve into a review of the current features of modern Market Structure. This gives the reader context on the business aspects of trading in order for them to understand why things work as they do. The next section will provide a brief high-level foundational overview of market microstructure which explains and models the dynamics of a trading venue heavily influenced by the core mechanism of how trading takes place: the price-time priority limit-order book with continuous double auction. This will set the stage for the introduction of a critical but elusive concept in trading: Liquidity.

\item Part~\ref{part:two} provides an overview of discrete time series models applied to equity trading. We will address univariate and multivariate time series models of both mean and variance of asset returns, and other associated quantities such as volume. While somewhat less used today because of high frequency trading, these models are important  as conceptual frameworks, and act as baselines for more advanced methods. We also cover some essential concepts in Point Processes as the actual trading data can come at irregular intervals. The last chapter of Part~I will present more advanced topics like State-Space Models and modern Machine Learning methods.

\item Part~\ref{part:three} dives into the broad topic of Quantitative Trading. Here we provide the reader with a toolkit to confidently approach the subject. Historical perspectives from Alpha generation to the art of backtesting are covered here. Since most quantitative strategies are portfolio-based, meaning that alphas are usually combined  and optimized over a basket of securities, we will briefly introduce the topic of Active Portfolio Management and Mean-Variance Optimization, and the more advanced topic of Dynamic Portfolio Selection. We conclude this section discussing a somewhat recent topic:  News and Sentiment Analytics. Our intent is to also remind the reader that the field is never ``complete'' as new approaches (such as this from behavioral finance) are embraced by practitioners once the data is available.

\item Part~\ref{part:four} covers Execution Algorithms, a sub-field of Quantitative Trading which has evolved separately from simple mechanical workflow tools, into a multi-billion dollar business. We begin by reviewing various approaches to modeling trade data, and then dive into the fundamental subject of Market Impact, a complex and least understood concept in finance. Having set the stage, the final section presents a review of the evolution and the current state of the art in Execution Algorithms.

\item Finally, Part~\ref{part:five} deals with some technical aspects of developing both quantitative trading strategies and execution algorithms. Trading has become a highly technological process that requires the integration of numerous technologies and systems,  ranging from market data feeds, to exchange connectivity, to low-latency networking and co-location, to back-office booking and reporting. Developing a modern and high performing trading platform requires thoughtful consideration and some compromise. In this part, we look at some important details in creating a full end-to-end technology stack for electronic trading. We also want to emphasize the critical but often ignored aspect of a successful trading business: Research Environment. \twomedskip
\end{itemize} 


%\addcontentsline{toc}{chapter}{Acknowledgements}
\noindent{\bfseries Acknowledgments:} The ideas for this book were planted ten years ago, while the first author, Raja Velu, was visiting the Statistics Department at Stanford at the invitation of Professor T.W. Anderson. Professor Tze-Leung Lai, who was in charge of the Financial Mathematics program, suggested initiating a course on Algorithmic Trading. This course was developed by the first author and the other authors, Daniel Nehren and Maxence Hardy, offered guest lectures to bring the practitioner's view to the classroom. This book in large part is the result of that interaction. We want to gratefully acknowledge the opportunity given by the Stanford's Statistics department and by Professors Lai and Anderson. 


We owe personal debt to many people for their invaluable comments and intellectual contribution to many sources from which the material for this book is drawn. The critical reviews by Professors Guofu Zhou and Ruey Tsay at various stages of writing are gratefully acknowledged. Colleagues from Syracuse University, Jan Ondrich, Ravi Shukla, David Weinbaum, Lai Xu, Suhasini Subba Rao from Texas A\&M, and Jeffrey Wurgler from New York University, all read through various versions of this book. Their comments have helped to improve its content and the presentation. Students who took the course at Stanford University, National University of Singapore and Singapore Management University and the teaching assistants were instrumental in shaping the structure of the book. In particular, we want to recognize the help of Balakumar Balasubramaniam, who offered extensive comments on an earlier version. On the intellectual side, we have drawn materials from the classic books by Tsay (2010); Box, Jenkins, Reinsel, Ljung (2015) on the methodology. Campbell, Lo and MacKinlay (1996) on finance; Friedman, Hastie and Tibshirani (2009) on statistical learning. In the tone and substance at times, we could not say better than what is already said in these classics and so the readers may notice some similarities.


We have relied heavily on the able assistance of Caleb McWhorter, who has put the book together with all the demands of his own graduate work. We want to thank our doctoral students, Kris Herman and Zhaoque Zhou (Chosen) for their help at various stages of the book. The joint work with them was useful to draw upon for content. As the focus of this book is on the use of real data, we relied upon several sources for help. We want to thank Professor Ravi Jagannathan for sharing his thoughts and data on pairs trading in Chapter~\ref{ch:stat_ts} and Kris Herman, whose notes on the Hawkes process are used in Chapter~\ref{chap:ch_trade_data_models}. The sentiment data used in Chapter~\ref{chap:ch_news_an} was provided by iSentium and thanks to Gautham Sastri. Scott Morris, William Dougan and Peter Layton at Blackthorne Inc, whose willingness to help on a short notice, on matters related to data and trading strategies is very much appreciated. We want to also acknowledge editorial help from Claire Harshberber and Alyson Nehren. 


Generous support was provided by Whitman School of Management and the Department of Finance for the production of the book. Raja Velu would like to thank former Dean Kenneth Kavajecz and Professors Ravi Shukla and Peter Koveos who serve(d) as department chairs and Professor Michel Benavoch, Associate Dean for Research, for their encouragement and support.


Last but not least the authors are grateful and humbled to have Adam Hogan provide the artwork for the book cover. The original piece specifically made for this book is a beautiful example of  Algorithmic Art representing trading intensity of the US stock universe on the various trading venues. We cannot think of a more fitting image for this book.  


Finally, no words will suffice for the love and support of our families. \vspace{3\baselineskip}


\noindent Raja Velu \par
\noindent Maxence Hardy \par
\noindent Daniel Nehren


\newpage


% ------------------------
% About the Authors
% ------------------------
%\addcontentsline{toc}{chapter}{About the Authors}
{\noindent\Large\bfseries About the Authors} \twomedskip

% Raja Velu
{\noindent\large\itshape Raja Velu} \medbreak

\noindent Raja Velu is a Professor of Finance and Business Analytics in the Whitman School of Management at Syracuse University. He obtained his Ph.D. in Business/Statistics from University of Wisconsin-Madison in 1983. He served as a marketing faculty at the University of Wisconsin-Whitewater from 1984 to 1998 before moving to Syracuse University. He was a Technical Architect at Yahoo! in the Sponsored Search Division and was a visiting scientist at IBM-Almaden, Microsoft Research, Google and JPMC. He has also held visiting positions at Stanford's Statistics Department from 2005 to 2016 and was a visiting faculty at Indian School of Business, National University of Singapore and Singapore Management University. His current research includes Modeling Big Chronological Data and Forecasting in High-Dimensional setting. He has published in leading journals such as Biometrika, Journal of Econometrics and Journal of Financial and Quantitative Analysis. \bigbreak

% Maxence Hardy
{\noindent\large\itshape Maxence Hardy} \medbreak

\noindent Maxence Hardy is a Managing Director and the Head of eTrading Quantitative Research for Equities and Futures at J.P. Morgan, based in New York. Mr. Hardy is responsible for the development of the algorithmic trading strategies and models underpinning the agency electronic execution products for the Equities and Futures divisions globally. Prior to this role, he was the Asia Pacific Head of eTrading and Systematic Trading Quantitative Research for three years, as well as Asia Pacific Head of Product for agency electronic trading, based in Hong Kong. Mr. Hardy joined J.P. Morgan in 2010 from Societe Generale where he was part of the algo team developing execution solutions for Program Trading. Mr. Hardy holds a master's degree in quantitative finance from the University Paris IX Dauphine in France. \bigbreak

% Daniel Nehren
{\noindent\large\itshape Daniel Nehren} \medbreak

\noindent Daniel Nehren is a Managing Director and the Head of Statistical Modelling and Development for Equities at Barclays. Based in New York, Mr. Nehren is responsible for the development of algorithmic trading product and model-based business logic for the Equities division globally. Mr. Nehren joined Barclays in 2018 from Citadel, where he was the head of Equity Execution. Mr. Nehren has over 16 years experience in the financial industry with a focus on global equity markets. Prior to Citadel, Mr. Nehren held roles at J.P. Morgan as the Global Head of Linear Quantitative Research, Deutsche Bank as the Director and Co-Head of Delta One Quantitative Products and Goldman Sachs as the Executive Director of Equity Strategy. Mr. Nehren holds a doctorate in electrical engineering from Politecnico Di Milano in Italy.


\newpage


% ------------------------
% Dedications
% ------------------------
%\addcontentsline{toc}{chapter}{Dedications}
%{\noindent\Large\bfseries Dedications} \twomedskip
Dedicated to\dots \twomedskip


\begin{minipage}[t]{0.8\textwidth}
	\raggedright
		Yasodha, without her love and support, this is not possible. \par
  	\raggedleft
  	R.V.
\end{minipage} \vspace{1cm}


\begin{minipage}[t]{0.8\textwidth}
	\raggedright
		Melissa, for her patience every step of the way, and her never ending support. \par
  	\raggedleft
  	M.H.
\end{minipage} \vspace{1cm}


\begin{minipage}[t]{0.8\textwidth}
	\raggedright
		Alyson, the muse, the patient partner, the inspiration for this work and the next. And the box is still not full. \par
  	\raggedleft
  	D.N.
\end{minipage} 